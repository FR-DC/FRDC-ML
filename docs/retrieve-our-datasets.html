<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex">  <meta name="built-on" content="2023-12-29T11:50:44.3926211"><meta name="build-number" content="${buildNumber}">       <title>Retrieve our Datasets | Documentation</title><script id="virtual-toc-data" type="application/json">[{"id":"prerequisites","level":0,"title":"Prerequisites","anchor":"#prerequisites"},{"id":"retrieve-the-data","level":0,"title":"Retrieve the Data","anchor":"#retrieve-the-data"},{"id":"segment-the-data","level":0,"title":"Segment the Data","anchor":"#segment-the-data"},{"id":"plot-the-data-optional","level":0,"title":"Plot the Data (Optional)","anchor":"#plot-the-data-optional"}]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Retrieve our Datasets | Documentation"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="Documentation Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="/d/0.0.8/retrieve-our-datasets.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Retrieve our Datasets | Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "/d/0.0.8/retrieve-our-datasets.html#webpage", "url": "/d/0.0.8/retrieve-our-datasets.html", "name": "Retrieve our Datasets | Documentation", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/d/#website", "url": "/d/", "name": "Documentation Help" }</script><!-- End Schema.org --></head>      <body data-id="Retrieve-our-Datasets" data-main-title="Retrieve our Datasets" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="Tutorials"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Documentation 0.0.8 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Retrieve-our-Datasets"   id="Retrieve-our-Datasets.md">Retrieve our Datasets</h1> <div class="micro-format" data-content="{&quot;microFormat&quot;:[&quot;\u003cp id\u003d\&quot;515430c7_1746\&quot;\u003eA tutorial to retrieve our datasets\u003c/p\u003e&quot;]}"></div> <p id="515430c7_1656">In this tutorial, we'll learn how to :</p><ul class="list _ul" id="515430c7_1657"><li class="list__item" id="515430c7_1658"><p>Retrieve FRDC's Hyperspectral Image Data as <code class="code" id="515430c7_1659">np.ndarray</code></p></li><li class="list__item" id="515430c7_1660"><p>Retrieve FRDC's Ground Truth bounds and labels</p></li><li class="list__item" id="515430c7_1661"><p>Slice/segment the image data by the bounds</p></li></ul><section class="chapter"><h2 id="prerequisites" data-toc="prerequisites"   >Prerequisites</h2><ul class="list _ul" id="515430c7_1662"><li class="list__item" id="515430c7_1663"><p>New here? <a href="getting-started.html" id="515430c7_1664" data-tooltip="Want to use a Dev Container? See Get Started with Dev Containers"  >Get Started</a>.</p></li><li class="list__item" id="515430c7_1665"><p>Setup the Google Cloud Authorization to download the data.</p></li></ul></section><section class="chapter"><h2 id="retrieve-the-data" data-toc="retrieve-the-data"   >Retrieve the Data</h2><p id="515430c7_1666">To retrieve the data, use <a href="load-dataset.html" id="515430c7_1667" data-tooltip="You need to Set-Up Google Cloud with the appropriate permissions to use this library."  >FRDCDataset</a></p><p id="515430c7_1668">Here, we'll download and load our</p><ul class="list _ul" id="515430c7_1669"><li class="list__item" id="515430c7_1670"><p><code class="code" id="515430c7_1671">ar</code>: Hyperspectral Image Data</p></li><li class="list__item" id="515430c7_1672"><p><code class="code" id="515430c7_1673">order</code>: The order of the bands</p></li><li class="list__item" id="515430c7_1674"><p><code class="code" id="515430c7_1675">bounds</code>: The bounds of the trees (segments)</p></li><li class="list__item" id="515430c7_1676"><p><code class="code" id="515430c7_1677">labels</code>: The labels of the trees (segments)</p></li></ul><div class="code-block" data-lang="python"         >
from frdc.load.preset import FRDCDatasetPreset

ds = FRDCDatasetPreset.chestnut_20201218()
ar, order = ds.get_ar_bands()
bounds, labels = ds.get_bounds_and_labels()
</div><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="what-datasets-are-there" data-toc="what-datasets-are-there"   >What Datasets are there?</h3></div><div class="collapse__content"><aside class="prompt" data-type="tip" data-title="" id="515430c7_1679"><p id="515430c7_1680">We recommend to use FRDCDatasetPreset. However, if you want<br> to know what other datasets are available, you can run <a href="load-gcs.html" id="515430c7_1682" data-tooltip="Set-Up Google Cloud to use this library."  >load.gcs</a>'s <code class="code" id="515430c7_1683">list_gcs_datasets()</code> method</p></aside><aside class="prompt" data-type="warning" data-title="" id="515430c7_1684"><p id="515430c7_1685">Note that some datasets do not have <code class="code" id="515430c7_1686">bounds</code> and <code class="code" id="515430c7_1687">labels</code> available as they have not been annotated yet.</p></aside><div class="code-block" data-lang="python"         >
from frdc.load.gcs import list_gcs_datasets 
print(list_gcs_datasets())
# 0  DEBUG/0
# 1  casuarina/20220418/183deg
# 2  casuarina/20220418/93deg
# 3  chestnut_nature_park/20201218
# ...
</div><ul class="list _ul" id="515430c7_1689"><li class="list__item" id="515430c7_1690"><p>The first part of the path is the <code class="code" id="515430c7_1691">site</code>, and the second part is the <code class="code" id="515430c7_1692">date</code>.</p></li><li class="list__item" id="515430c7_1693"><p>The <code class="code" id="515430c7_1694">version</code> is the rest of the path, if there isn't any, use <code class="code" id="515430c7_1695">None</code>.</p></li></ul><div class="tabs" id="515430c7_1696"><div class="tabs__content" data-gtm="tab" id="515430c7_1697" data-title="ds/date/ver/"><ul class="list _ul" id="515430c7_1698"><li class="list__item" id="515430c7_1699"><p><code class="code" id="515430c7_1700">site=&quot;ds&quot;</code></p></li><li class="list__item" id="515430c7_1701"><p><code class="code" id="515430c7_1702">date=&quot;date&quot;</code></p></li><li class="list__item" id="515430c7_1703"><p><code class="code" id="515430c7_1704">version=&quot;ver&quot;</code></p></li></ul></div><div class="tabs__content" data-gtm="tab" id="515430c7_1705" data-title="ds/date/ver/01/data/"><ul class="list _ul" id="515430c7_1706"><li class="list__item" id="515430c7_1707"><p><code class="code" id="515430c7_1708">site=&quot;ds&quot;</code></p></li><li class="list__item" id="515430c7_1709"><p><code class="code" id="515430c7_1710">date=&quot;date&quot;</code></p></li><li class="list__item" id="515430c7_1711"><p><code class="code" id="515430c7_1712">version=&quot;ver/01/data&quot;</code></p></li></ul></div><div class="tabs__content" data-gtm="tab" id="515430c7_1713" data-title="ds/date/"><ul class="list _ul" id="515430c7_1714"><li class="list__item" id="515430c7_1715"><p><code class="code" id="515430c7_1716">site=&quot;ds&quot;</code></p></li><li class="list__item" id="515430c7_1717"><p><code class="code" id="515430c7_1718">date=&quot;date&quot;</code></p></li><li class="list__item" id="515430c7_1719"><p><code class="code" id="515430c7_1720">version=None</code></p></li></ul></div></div></div></div></section></section><section class="chapter"><h2 id="segment-the-data" data-toc="segment-the-data"   >Segment the Data</h2><p id="515430c7_1721">To segment the data, use <a href="preprocessing-extract-segments.html" id="515430c7_1722" data-tooltip="A boundary is a Rect object that represents the minimum bounding box of a segment, with x0, y0, x1, y1 coordinates."  >Extract Segments</a>.</p><p id="515430c7_1723">Here, we'll segment the data by the bounds.</p><div class="code-block" data-lang="python"         >
from frdc.load.preset import FRDCDatasetPreset
from frdc.preprocess.extract_segments import extract_segments_from_bounds

ds = FRDCDatasetPreset.chestnut_20201218()
ar, order = ds.get_ar_bands()
bounds, labels = ds.get_bounds_and_labels()
segments = extract_segments_from_bounds(ar, bounds)
</div><p id="515430c7_1725"><code class="code" id="515430c7_1726">segments</code> is a list of <code class="code" id="515430c7_1727">np.ndarray</code> of shape H, W, C, representing a tree. The order of <code class="code" id="515430c7_1728">segments</code> is the same as <code class="code" id="515430c7_1729">labels</code>, so you can use <code class="code" id="515430c7_1730">labels</code> to identify the tree.</p><aside class="prompt" data-type="tip" data-title="" id="515430c7_1731"><p id="515430c7_1732">While we have not used <code class="code" id="515430c7_1733">order</code> in our example, it's useful to determine the order of the bands in <code class="code" id="515430c7_1734">ar</code> in other applications.</p></aside></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h2 id="plot-the-data-optional" data-toc="plot-the-data-optional"   >Plot the Data (Optional)</h2></div><div class="collapse__content"><p id="515430c7_1735">We can then use these data to plot out the first tree segment.</p><div class="code-block" data-lang="python"         >
import matplotlib.pyplot as plt

from frdc.load.preset import FRDCDatasetPreset
from frdc.preprocess.extract_segments import extract_segments_from_bounds
from frdc.preprocess.scale import scale_0_1_per_band

ds = FRDCDatasetPreset.chestnut_20201218()
ar, order = ds.get_ar_bands()
bounds, labels = ds.get_bounds_and_labels()
segments = extract_segments_from_bounds(ar, bounds)
segment_0_bgr = segments[0]
segment_0_rgb = segment_0_bgr[..., [2, 1, 0]]
segment_0_rgb_scaled = scale_0_1_per_band(segment_0_rgb)

plt.imshow(segment_0_rgb_scaled)
plt.title(f&quot;Tree {labels[0]}&quot;)
plt.show()
</div><p id="515430c7_1737">See also: <a href="preprocessing-scale.html" id="515430c7_1738" data-tooltip="The static scaling has a default config, which was inferred by our capturing device."  >preprocessing.scale.scale_0_1_per_band</a></p><p id="515430c7_1739">MatPlotLib cannot show the data correctly as-is, so we need to</p><ul class="list _ul" id="515430c7_1740"><li class="list__item" id="515430c7_1741"><p>Convert the data from BGR to RGB</p></li><li class="list__item" id="515430c7_1742"><p>Scale the data to 0-1 per band</p></li></ul><aside class="prompt" data-type="note" data-title="" id="515430c7_1743"><p id="515430c7_1744">Remember that the library returns the band <code class="code" id="515430c7_1745">order</code>? This is useful in debugging the data. If we had shown it in BGR, it'll look off!</p></aside></div></div></section><div class="last-modified"> Last modified: 29 December 2023</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="get-started-with-dev-containers.html">Get Started with Dev Containers</a>   <a class="navigation-links__next" href="mix-match.html">MixMatch</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>